


<!doctype html>
<html class="no-js" lang="en">
  
<head><!-- begin head.html -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width initial-scale=1" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>
    Configuration | Scylla Docs
    </title>
    <meta name="description" content="Scylla is an Apache Cassandra-compatible NoSQL data store that can handle 1 million transactions per second on a single server." />

    <link rel="icon" href="../../../_static/img/favicon.ico" type="image/x-icon"/>
    <link rel="canonical" href="https://docs.scylladb.com/">

    <link rel="author" href="mailto:info@scylladb.com">
    <link rel="stylesheet" href="../../../_static/" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/sphinx_tabs/semantic-ui-2.4.1/segment.min.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/sphinx_tabs/semantic-ui-2.4.1/menu.min.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/sphinx_tabs/semantic-ui-2.4.1/tab.min.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/sphinx_tabs/tabs.css" />
    
    <link href='https://fonts.googleapis.com/css?family=Roboto:400,100,300,500,700' rel='stylesheet' type='text/css'>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/foundation/5.5.2/css/foundation.min.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/css/doc/main.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />

    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" />
    <script type="text/javascript" id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
    <script src="../../../_static/jquery.js"></script>
    <script src="../../../_static/underscore.js"></script>
    <script src="../../../_static/doctools.js"></script>
    <script src="../../../_static/language_data.js"></script>
    <script src="../../../_static/clipboard.min.js"></script>
    <script src="../../../_static/copybutton.js"></script>

    <script src="../../../_static/js/vendor/modernizr.js"></script>
    <!-- Google Tag Manager -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
      new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-T8P2JP');</script>
    <!-- End Google Tag Manager -->

    <!-- Marketo -->
    <script type="text/javascript"> (function() { var didInit = false; function initMunchkin() { if(didInit === false) { didInit = true; Munchkin.init('791-QBF-350'); } } var s = document.createElement('script'); s.type = 'text/javascript'; s.async = true; s.src = '//munchkin.marketo.net/munchkin.js'; s.onreadystatechange = function() { if (this.readyState == 'complete' || this.readyState == 'loaded') { initMunchkin(); } }; s.onload = initMunchkin; document.getElementsByTagName('head')[0].appendChild(s); })(); </script>
    <!-- End Marketo -->

<!-- end head.html -->
</head>

<body>
<header id="header" class="animated">
    <div class="topbar_continer contain-to-grid clearfix">
        <nav class="top-bar" id="top-bar" data-topbar role="navigation">
            <ul class="title-area">
                <li class="name">
                    <div class="logo">
                        <a href="https://docs.scylladb.com/"><img src="../../../_static/img/logo-scylla-docs.svg" alt="" width="151"></a>
                    </div>
                </li>
                <li class="toggle-topbar"><a href="#"><span class="icon-manu"></span></a></li>
            </ul>
            <section class="top-bar-section clearfix">
                <ul class="right">
                    
                    <li>
                        <a href="https://scylladb.github.io/java-driver/">Scylla Java Driver</a>
                    </li>
                    
                    <li>
                        <a href="https://docs.scylladb.com/scylla-cloud/">Scylla Cloud</a>
                    </li>
                    
                    <li>
                        <a href="https://university.scylladb.com/">Scylla University</a>
                    </li>
                    
                    <li>
                        <a href="https://www.scylladb.com/">ScyllaDB Home</a>
                    </li>
                    
                    <li class="search_continer show-for-medium-up">	
                        <ci-search></ci-search>	
                    </li>	
                </ul>
            </section>
        </nav>
    </div>
</header>
<section id="content">
    <div class="row">
	
	<div class="large-6 large-push-3 columns">
            <div class="section" id="configuration">
<h1>Configuration<a class="headerlink" href="#configuration" title="Permalink to this headline">¶</a></h1>
<div class="section" id="how-configuring-the-java-driver-works">
<h2>How Configuring the Java driver works<a class="headerlink" href="#how-configuring-the-java-driver-works" title="Permalink to this headline">¶</a></h2>
<p>The two basic components in the Java driver are the <code class="docutils literal notranslate"><span class="pre">Cluster</span></code> and the <code class="docutils literal notranslate"><span class="pre">Session</span></code>.
The <code class="docutils literal notranslate"><span class="pre">Cluster</span></code> is the object to create first, and on to which all global configurations
apply. Connecting to the <code class="docutils literal notranslate"><span class="pre">Cluster</span></code> creates a <code class="docutils literal notranslate"><span class="pre">Session</span></code>. Queries are executed
through the <code class="docutils literal notranslate"><span class="pre">Session</span></code>.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">Cluster</span></code> object then is to be viewed as the equivalent of the <code class="docutils literal notranslate"><span class="pre">AstyanaxContext</span></code>
object. “Starting” an <code class="docutils literal notranslate"><span class="pre">AstyanaxContext</span></code> object typically returns a <code class="docutils literal notranslate"><span class="pre">Keyspace</span></code>
object, the <code class="docutils literal notranslate"><span class="pre">Keyspace</span></code> object is the equivalent of the <em>Java driver</em>’s <code class="docutils literal notranslate"><span class="pre">Session</span></code>.</p>
<p>Configuring a <code class="docutils literal notranslate"><span class="pre">Cluster</span></code> works with the <em>Builder</em> pattern. The <code class="docutils literal notranslate"><span class="pre">Builder</span></code> takes all
the configurations into account before building the <code class="docutils literal notranslate"><span class="pre">Cluster</span></code>.</p>
<p>Following are some examples of the most important configurations that were
possible with <em>Astyanax</em> and how to translate them into <em>DataStax Java driver</em>
configurations. Please note that the Java driver has been optimized to handle most use
cases at best and even though the following sections show how to tune some various
options, the driver should provide the best performances with the default configurations
and these options should not be changed unless there is a good reason to.</p>
</div>
<div class="section" id="connection-pools">
<h2>Connection pools<a class="headerlink" href="#connection-pools" title="Permalink to this headline">¶</a></h2>
<p>Configuration of connection pools in <em>Astyanax</em> are made through the
<code class="docutils literal notranslate"><span class="pre">ConnectionPoolConfigurationImpl</span></code>. This object gathers important configurations
that the <em>Java driver</em> has categorized in multiple <em>Option</em> and <em>Policy</em> kinds.</p>
<div class="section" id="connections-pools-internals">
<h3>Connections pools internals<a class="headerlink" href="#connections-pools-internals" title="Permalink to this headline">¶</a></h3>
<p>Everything concerning the internal pools of connections to the <em>Cassandra nodes</em>
will be gathered in the Java driver in the <a class="reference external" href="../../../manual/pooling"><code class="docutils literal notranslate"><span class="pre">PoolingOptions</span></code></a>:</p>
<p><em>Astyanax</em>:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">ConnectionPoolConfigurationImpl</span> <span class="n">cpool</span> <span class="o">=</span>
       <span class="k">new</span> <span class="n">ConnectionPoolConfigurationImpl</span><span class="o">(</span><span class="s">&quot;myConnectionPool&quot;</span><span class="o">)</span>
               <span class="o">.</span><span class="na">setInitConnsPerHost</span><span class="o">(</span><span class="mi">2</span><span class="o">)</span>
               <span class="o">.</span><span class="na">setMaxConnsPerHost</span><span class="o">(</span><span class="mi">3</span><span class="o">)</span>
</pre></div>
</div>
<p><em>Java driver</em>:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">PoolingOptions</span> <span class="n">poolingOptions</span> <span class="o">=</span>
       <span class="k">new</span> <span class="n">PoolingOptions</span><span class="o">()</span>
           <span class="o">.</span><span class="na">setConnectionsPerHost</span><span class="o">(</span><span class="n">HostDistance</span><span class="o">.</span><span class="na">LOCAL</span><span class="o">,</span> <span class="mi">2</span><span class="o">,</span> <span class="mi">3</span><span class="o">)</span>
</pre></div>
</div>
<p>The first number is the initial number of connections, the second is the maximum number
of connections the driver is allowed to create for each host.</p>
<p>Note that the <em>Java driver</em> allows multiple simultaneous requests on one single
connection, as it is based upon the <a class="reference external" href="../../../manual/native_protocol"><em>Native protocol</em></a>,
an asynchronous binary protocol that can handle up to 32768 simultaneous requests on a
single connection. The Java driver is able to manage and distribute simultaneous requests
by itself even under high contention, and changing the default <code class="docutils literal notranslate"><span class="pre">PoolingOptions</span></code> is not
necessary most of the time except for very <a class="reference external" href="../../../manual/pooling/#tuning-protocol-v3-for-very-high-throughputs">specific use cases</a>.</p>
</div>
<div class="section" id="timeouts">
<h3>Timeouts<a class="headerlink" href="#timeouts" title="Permalink to this headline">¶</a></h3>
<p>Timeouts concerning requests, or connections will be part of the <code class="docutils literal notranslate"><span class="pre">SocketOptions</span></code>.</p>
<p><em>Astyanax</em>:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">ConnectionPoolConfigurationImpl</span> <span class="n">cpool</span> <span class="o">=</span>
       <span class="k">new</span> <span class="n">ConnectionPoolConfigurationImpl</span><span class="o">(</span><span class="s">&quot;myConnectionPool&quot;</span><span class="o">)</span>
               <span class="o">.</span><span class="na">setSocketTimeout</span><span class="o">(</span><span class="mi">3000</span><span class="o">)</span>
               <span class="o">.</span><span class="na">setConnectTimeout</span><span class="o">(</span><span class="mi">3000</span><span class="o">)</span>
</pre></div>
</div>
<p><em>Java Driver:</em></p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">SocketOptions</span> <span class="n">so</span> <span class="o">=</span>
       <span class="k">new</span> <span class="n">SocketOptions</span><span class="o">()</span>
           <span class="o">.</span><span class="na">setReadTimeoutMillis</span><span class="o">(</span><span class="mi">3000</span><span class="o">)</span>
           <span class="o">.</span><span class="na">setConnectTimeoutMillis</span><span class="o">(</span><span class="mi">3000</span><span class="o">);</span>
</pre></div>
</div>
<p>Changing the client timeout options might have more impacts than expected, <strong>please make
sure to properly document before changing these options.</strong></p>
</div>
</div>
<div class="section" id="load-balancing">
<h2>Load Balancing<a class="headerlink" href="#load-balancing" title="Permalink to this headline">¶</a></h2>
<p>Both <em>Astyanax</em> and the <em>Java driver</em> connect to multiple nodes of the <em>Cassandra</em>
cluster. Distributing requests through all the nodes plays an important role in
the good operation of the <code class="docutils literal notranslate"><span class="pre">Cluster</span></code> and for best performances. With <em>Astyanax</em>,
requests (or “operations”) can be sent directly to replicas that have a copy of
the data targeted by the <em>“Row key”</em> specified in the operation. Since the <em>Thrift</em> API is
low-level, it forces the user to provide <em>Row keys</em>, known as the <code class="docutils literal notranslate"><span class="pre">TokenAware</span></code>
connection pool type. This setting is also present in the <em>Java driver</em>, however
the configuration is different and provides more options to tweak.</p>
<p>Load balancing in the <em>Java driver</em> is a <em>Policy</em>, it is a class that will be
plugged in the <em>Java driver</em>’s code and the Driver will call its methods when it
needs to. The <em>Java driver</em> comes with a preset of specific load balancing policies.
Here’s an equivalent code:</p>
<p><em>Astyanax</em>:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">final</span> <span class="n">ConnectionPoolType</span> <span class="n">poolType</span> <span class="o">=</span> <span class="n">ConnectionPoolType</span><span class="o">.</span><span class="na">TOKEN_AWARE</span><span class="o">;</span>
<span class="kd">final</span> <span class="n">NodeDiscoveryType</span> <span class="n">discType</span> <span class="o">=</span> <span class="n">NodeDiscoveryType</span><span class="o">.</span><span class="na">RING_DESCRIBE</span><span class="o">;</span>
<span class="n">ConnectionPoolConfigurationImpl</span> <span class="n">cpool</span> <span class="o">=</span>
       <span class="k">new</span> <span class="n">ConnectionPoolConfigurationImpl</span><span class="o">(</span><span class="s">&quot;myConnectionPool&quot;</span><span class="o">)</span>
               <span class="o">.</span><span class="na">setLocalDatacenter</span><span class="o">(</span><span class="s">&quot;myDC&quot;</span><span class="o">)</span>
<span class="n">AstyanaxConfigurationImpl</span> <span class="n">aconf</span> <span class="o">=</span>
       <span class="k">new</span> <span class="n">AstyanaxConfigurationImpl</span><span class="o">()</span>
               <span class="o">.</span><span class="na">setConnectionPoolType</span><span class="o">(</span><span class="n">poolType</span><span class="o">)</span>
               <span class="o">.</span><span class="na">setDiscoveryType</span><span class="o">(</span><span class="n">discType</span><span class="o">)</span>
</pre></div>
</div>
<p><em>Java driver</em>:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">LoadBalancingPolicy</span> <span class="n">lbp</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TokenAwarePolicy</span><span class="o">(</span>
       <span class="n">DCAwareRoundRobinPolicy</span><span class="o">.</span><span class="na">builder</span><span class="o">()</span>
       <span class="o">.</span><span class="na">withLocalDc</span><span class="o">(</span><span class="s">&quot;myDC&quot;</span><span class="o">)</span>
       <span class="o">.</span><span class="na">build</span><span class="o">()</span>
<span class="o">);</span>
</pre></div>
</div>
<p><em>By default</em> the <em>Java driver</em> will instantiate the exact Load balancing policy
shown above, with the <code class="docutils literal notranslate"><span class="pre">LocalDC</span></code> being the DC of the first host the driver connects
to. So to get the same behaviour than the <em>TokenAware</em> pool type of <em>Astyanax</em>,
users shouldn’t need to specify a load balancing policy since the default one
should cover it.</p>
<p>Important: Note that since <em>CQL</em> is an abstraction of the Cassandra’s architecture, a simple
query needs to have the <em>Row key</em> specified explicitly on a <code class="docutils literal notranslate"><span class="pre">Statement</span></code> in order
to benefit from the <em>TokenAware</em> routing (the <em>Row key</em> in the <em>Java driver</em> is
referenced as <em>Routing Key</em>), unlike the <em>Astyanax</em> driver.
Some differences occur related to the different kinds of <code class="docutils literal notranslate"><span class="pre">Statements</span></code> the <em>Java
driver</em> provides. Please see <a class="reference external" href="../../../manual/load_balancing/#token-aware-policy">this link</a>
for specific information.</p>
<p>Custom load balancing policies can easily be implemented by users, and supplied to
the <em>Java driver</em> for specific use cases. All information necessary is available
in the <a class="reference external" href="../../../manual/load_balancing">Load balaning policies docs</a>.</p>
</div>
<div class="section" id="consistency-levels">
<h2>Consistency levels<a class="headerlink" href="#consistency-levels" title="Permalink to this headline">¶</a></h2>
<p>Consistency levels can be set per-statement, or globally through the <code class="docutils literal notranslate"><span class="pre">QueryOptions</span></code>.</p>
<p><em>Astyanax</em>:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">AstyanaxConfigurationImpl</span> <span class="n">aconf</span> <span class="o">=</span>
       <span class="k">new</span> <span class="n">AstyanaxConfigurationImpl</span><span class="o">()</span>
               <span class="o">.</span><span class="na">setDefaultReadConsistencyLevel</span><span class="o">(</span><span class="n">ConsistencyLevel</span><span class="o">.</span><span class="na">CL</span><span class="o">*</span><span class="n">ALL</span><span class="o">)</span>
               <span class="o">.</span><span class="na">setDefaultWriteConsistencyLevel</span><span class="o">(</span><span class="n">ConsistencyLevel</span><span class="o">.</span><span class="na">CL</span><span class="o">*</span><span class="n">ALL</span><span class="o">)</span>
</pre></div>
</div>
<p><em>Java driver</em>:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">QueryOptions</span> <span class="n">qo</span> <span class="o">=</span> <span class="k">new</span> <span class="n">QueryOptions</span><span class="o">().</span><span class="na">setConsistencyLevel</span><span class="o">(</span><span class="n">ConsistencyLevel</span><span class="o">.</span><span class="na">ALL</span><span class="o">);</span>
</pre></div>
</div>
<p>Since the <em>Java driver</em> only executes <em>CQL</em> statements, which can be either reads
or writes to <em>Cassandra</em>, it is not possible to globally configure the
Consistency Level for only reads or only writes. To do so, since the Consistency
Level can be set per-statement, you can either set it on every statement, or use
<code class="docutils literal notranslate"><span class="pre">PreparedStatements</span></code> (if queries are to be repeated with different values): in
this case, setting the CL on the <code class="docutils literal notranslate"><span class="pre">PreparedStatement</span></code>, causes the <code class="docutils literal notranslate"><span class="pre">BoundStatements</span></code> to
inherit the CL from the prepared statements they were prepared from. More
informations about how <code class="docutils literal notranslate"><span class="pre">Statement</span></code>s work in the <em>Java driver</em> are detailed
in the <a class="reference external" href="../queries_and_results/">“Queries and Results” section</a>.</p>
</div>
<div class="section" id="authentication">
<h2>Authentication<a class="headerlink" href="#authentication" title="Permalink to this headline">¶</a></h2>
<p>Authentication settings are managed by the <code class="docutils literal notranslate"><span class="pre">AuthProvider</span></code> class in the <em>Java driver</em>.
It can be highly customizable, but also comes with default simple implementations:</p>
<p><em>Astyanax</em>:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">AuthenticationCredentials</span> <span class="n">authCreds</span> <span class="o">=</span> <span class="k">new</span> <span class="n">SimpleAuthenticationCredentials</span><span class="o">(</span><span class="s">&quot;username&quot;</span><span class="o">,</span> <span class="s">&quot;password&quot;</span><span class="o">);</span>
<span class="n">ConnectionPoolConfigurationImpl</span> <span class="n">cpool</span> <span class="o">=</span>
       <span class="k">new</span> <span class="n">ConnectionPoolConfigurationImpl</span><span class="o">(</span><span class="s">&quot;myConnectionPool&quot;</span><span class="o">)</span>
               <span class="o">.</span><span class="na">setAuthenticationCredentials</span><span class="o">(</span><span class="n">authCreds</span><span class="o">)</span>
</pre></div>
</div>
<p><em>Java driver</em>:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">AuthProvider</span> <span class="n">authProvider</span> <span class="o">=</span> <span class="k">new</span> <span class="n">PlainTextAuthProvider</span><span class="o">(</span><span class="s">&quot;username&quot;</span><span class="o">,</span> <span class="s">&quot;password&quot;</span><span class="o">);</span>
</pre></div>
</div>
<p>The class <code class="docutils literal notranslate"><span class="pre">AuthProvider</span></code> can be easily implemented to suit the user’s needs,
documentation about the classes needed is <a class="reference external" href="../../../manual/auth/">available there</a>.</p>
</div>
<div class="section" id="hosts-and-ports">
<h2>Hosts and ports<a class="headerlink" href="#hosts-and-ports" title="Permalink to this headline">¶</a></h2>
<p>Setting the “seeds” or first hosts to connect to can be done directly on the
Cluster configuration Builder:</p>
<p><em>Astyanax</em>:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">ConnectionPoolConfigurationImpl</span> <span class="n">cpool</span> <span class="o">=</span>
       <span class="k">new</span> <span class="n">ConnectionPoolConfigurationImpl</span><span class="o">(</span><span class="s">&quot;myConnectionPool&quot;</span><span class="o">)</span>
               <span class="o">.</span><span class="na">setSeeds</span><span class="o">(</span><span class="s">&quot;127.0.0.1&quot;</span><span class="o">)</span>
               <span class="o">.</span><span class="na">setPort</span><span class="o">(</span><span class="mi">9160</span><span class="o">)</span>
</pre></div>
</div>
<p><em>Java driver</em>:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">Cluster</span> <span class="n">cluster</span> <span class="o">=</span> <span class="n">Cluster</span><span class="o">.</span><span class="na">builder</span><span class="o">()</span>
       <span class="o">.</span><span class="na">addContactPoint</span><span class="o">(</span><span class="s">&quot;127.0.0.1&quot;</span><span class="o">)</span>
       <span class="o">.</span><span class="na">withPort</span><span class="o">(</span><span class="mi">9042</span><span class="o">)</span>
</pre></div>
</div>
<p>The <em>Java driver</em> by default connects to port <em>9042</em>, hence you can supply only
host names with the <code class="docutils literal notranslate"><span class="pre">addContactPoints(String...)</span></code> method. Note that the contact
points are only the entry points to the <code class="docutils literal notranslate"><span class="pre">Cluster</span></code> for the <em>Automatic discovery
phase</em>.</p>
</div>
<div class="section" id="building-the-cluster">
<h2>Building the Cluster<a class="headerlink" href="#building-the-cluster" title="Permalink to this headline">¶</a></h2>
<p>With all options previously presented, one may configure and create the
<code class="docutils literal notranslate"><span class="pre">Cluster</span></code> object this way:</p>
<p><em>Java driver</em>:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">Cluster</span> <span class="n">cluster</span> <span class="o">=</span> <span class="n">Cluster</span><span class="o">.</span><span class="na">builder</span><span class="o">()</span>
       <span class="o">.</span><span class="na">addContactPoint</span><span class="o">(</span><span class="s">&quot;127.0.0.1&quot;</span><span class="o">)</span>
       <span class="o">.</span><span class="na">withAuthProvider</span><span class="o">(</span><span class="n">authProvider</span><span class="o">)</span>
       <span class="o">.</span><span class="na">withLoadBalancingPolicy</span><span class="o">(</span><span class="n">lbp</span><span class="o">)</span>
       <span class="o">.</span><span class="na">withSocketOptions</span><span class="o">(</span><span class="n">so</span><span class="o">)</span>
       <span class="o">.</span><span class="na">withPoolingOptions</span><span class="o">(</span><span class="n">poolingOptions</span><span class="o">)</span>
       <span class="o">.</span><span class="na">withQueryOptions</span><span class="o">(</span><span class="n">qo</span><span class="o">)</span>
       <span class="o">.</span><span class="na">build</span><span class="o">();</span>
<span class="n">Session</span> <span class="n">session</span> <span class="o">=</span> <span class="n">cluster</span><span class="o">.</span><span class="na">connect</span><span class="o">();</span>
</pre></div>
</div>
</div>
<div class="section" id="best-practices">
<h2>Best Practices<a class="headerlink" href="#best-practices" title="Permalink to this headline">¶</a></h2>
<p>A few best practices are summed up in <a class="reference external" href="http://www.datastax.com/dev/blog/4-simple-rules-when-using-the-datastax-drivers-for-cassandra">this blog post</a>.</p>
<p>Concerning connection pools, the Java driver’s default settings should allow
most of the users to get the best out of the driver in terms of throughput,
they have been thoroughly tested and tweaked to accommodate the users’ needs.
If one still wishes to change those, first <a class="reference external" href="../../../manual/pooling/#monitoring-and-tuning-the-pool">Monitoring the pools</a> is
advised, then a <a class="reference external" href="../../../manual/pooling/">deep dive in the Pools management mechanism</a> should
provide enough insight.</p>
<p>A lot more options are available in the different <code class="docutils literal notranslate"><span class="pre">XxxxOption</span></code>s classes, policies are
also highly customizable since the base Java driver’s implementations can easily be
extended and implement user-specific actions.</p>
</div>
</div>

        </div>

        <div id="sidebar" class="large-3 large-pull-6 columns"><div class="side-nav">
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../api.html">API Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../manual/README.html">Manual</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../README.html">Upgrade guide</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../README.html">Migrating from Astyanax</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">Configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../language_level_changes/README.html">Language change : from Thrift to CQL</a></li>
<li class="toctree-l3"><a class="reference internal" href="../queries_and_results/README.html">Queries and Results</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../faq/README.html">Frequently Asked Questions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../changelog/README.html">Changelog</a></li>
</ul>

</div>
        </div>

        <div class="large-3 columns">
            
        </div>

    </div>
</section>

<!-- newsleter modal -->

<div id="newsletter_signup" class="reveal-modal tiny radius dark_modal" data-reveal aria-labelledby="modalTitle" aria-hidden="true" role="dialog">
    <a class="close-reveal-modal" aria-label="Close">×</a>
    <h2 id="modalTitle">Sign up for the Scylla newsletter</h2>
    <div id="mc_embed_signup">
        <form action="//cloudius-systems.us10.list-manage.com/subscribe/post?u=df8bb543c68230d5f7b4dcf78&amp;id=9a4589f144" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate="">
            <div id="mc_embed_signup_scroll">

                <div class="mc-field-group">
                    <div class="row collapse">
                        <div class="small-3 columns"><label for="mce-EMAIL">Email</label></div>
                        <div class="small-9 columns"><input type="email" value="" name="EMAIL" class="required email" id="mce-EMAIL"></div>
                    </div>
                </div>
                <div class="mc-field-group">
                    <div class="row collapse">
                        <div class="small-3 columns"><label for="mce-FNAME">First Name </label></div>
                        <div class="small-9 columns"><input type="text" value="" name="FNAME" class="" id="mce-FNAME"></div>
                    </div>
                </div>
                <div class="mc-field-group">
                    <div class="row collapse">
                        <div class="small-3 columns"><label for="mce-LNAME">Last Name </label></div>
                        <div class="small-9 columns"><input type="text" value="" name="LNAME" class="" id="mce-LNAME"></div>
                    </div>
                </div>
                <div id="mce-responses" class="clear">
                    <div class="response" id="mce-error-response" style="display:none"></div>
                    <div class="response" id="mce-success-response" style="display:none"></div>
                </div>    <!-- real people should not fill this in and expect good things - do not remove this or risk form bot signups-->
                <div style="position: absolute; left: -5000px;"><input type="text" name="b_df8bb543c68230d5f7b4dcf78_9a4589f144" tabindex="-1" value=""></div>
                <div class="clear"><input type="submit" class="button" value="Sign up" name="subscribe" id="mc-embedded-subscribe"></div>
            </div>
        </form>
    </div>
</div>

<!-- end newsleter modal -->



<!-- footer.html -->
<footer id="footer">
    <div class="footer-top">
        <a class="logo" href="https://www.scylladb.com"><img src="../../../_static/img/logo-scylla-horizontal-RGB.svg" alt=""></a>
        <div class="footer-links">
            <a class="link" href="https://docs.scylladb.com">Docs</a>
            <a class="link" href="https://www.scylladb.com/company/contact-us/">Contact Us</a>
            <a class="link" href="https://www.scylladb.com/company/">About Us</a>
            <a class="link button" href="https://github.com/scylladb/java-driver/issues/new?title=Issue in page Configuration&&body=I%20would%20like%20to%20report%20an%20issue%20in%20page%20http://docs.scylladb.com/upgrade_guide/migrating_from_astyanax/configuration/README%0A%0A%23%23%23%20Problem%0A%0A%23%23%23%20%20Suggest%20a%20fix" target="_blank">
                Report an issue on this page</a>
        </div>
        <div class="footer-actions">
            <a class="link-icon" href="https://github.com/ScyllaDB" target="_blank">
                <span class="icon-github2"></span></a>
            <a class="link-icon" href="https://twitter.com/ScyllaDB" target="_blank">
                <span class="icon-twitter"></span></a>
            <a class="link-icon" href="https://www.linkedin.com/company/scylladb"  target="_blank">
                <span class="icon-linkedin2"></span></a>
            <a class="link-icon" href="https://www.facebook.com/scylladb/" target="_blank">
                <span class="icon-facebook"></span></a>
        </div>
    </div>

    <div class="footer-bottom">
        <div class="footer-info">
            <div class="footer-copyright">
                &#169; 2012, ScyllaDB. All rights reserved.
            </div>
            <div class="footer-last-updated">
                Last updated on 20 October 2020.
            </div>
        </div>
        <div class="footer-links">
        </div>
    </div>
</footer>
<!-- end footer.html -->

<!-- bodyscripts.html -->
<!-- at the end of the BODY --> 
<script src="../../../_static/js/vendor/jquery.js"></script>
<script src="../../../_static/expertrec.js"></script>
<script src="../../../_static/js/foundation/foundation.js"></script>
<script src="../../../_static/js/foundation/foundation.topbar.js"></script>
<script src="../../../_static/app.js"></script>
<script>
    $(document).foundation();
</script>
<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-T8P2JP"
  height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->

  <!-- end bodyscripts.html -->
</body>
</html>