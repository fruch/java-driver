<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>DataStax Java Driver: com.datastax.driver.core.policies.ErrorAwarePolicyIntegrationTest Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">DataStax Java Driver
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classcom_1_1datastax_1_1driver_1_1core_1_1policies_1_1_error_aware_policy_integration_test.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classcom_1_1datastax_1_1driver_1_1core_1_1policies_1_1_error_aware_policy_integration_test-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">com.datastax.driver.core.policies.ErrorAwarePolicyIntegrationTest Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a2633e47dd6d7ce2198ea713b9d3542aa"><td class="memItemLeft" align="right" valign="top"><a id="a2633e47dd6d7ce2198ea713b9d3542aa"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>setUp</b> ()</td></tr>
<tr class="separator:a2633e47dd6d7ce2198ea713b9d3542aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7039a928e50d95186c4af0ae2d4be542"><td class="memItemLeft" align="right" valign="top"><a id="a7039a928e50d95186c4af0ae2d4be542"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>tearDown</b> ()</td></tr>
<tr class="separator:a7039a928e50d95186c4af0ae2d4be542"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a78df89f97e521856363c1bd146bdbeab"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1datastax_1_1driver_1_1core_1_1policies_1_1_error_aware_policy_integration_test.html#a78df89f97e521856363c1bd146bdbeab">should_exclude_host_after_reaching_maximum_errors</a> ()  throws InterruptedException </td></tr>
<tr class="separator:a78df89f97e521856363c1bd146bdbeab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac5445c91ecad35dff4ea472e05c63884"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1datastax_1_1driver_1_1core_1_1policies_1_1_error_aware_policy_integration_test.html#ac5445c91ecad35dff4ea472e05c63884">should_resurrect_host_after_retry_period</a> ()  throws InterruptedException </td></tr>
<tr class="separator:ac5445c91ecad35dff4ea472e05c63884"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a92a57fc13f089955cb8489a71cdfb205"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1datastax_1_1driver_1_1core_1_1policies_1_1_error_aware_policy_integration_test.html#a92a57fc13f089955cb8489a71cdfb205">should_not_penalize_default_ignored_exceptions</a> ()  throws InterruptedException </td></tr>
<tr class="separator:a92a57fc13f089955cb8489a71cdfb205"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc8df3bb904454396ac77227992390fa"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1datastax_1_1driver_1_1core_1_1policies_1_1_error_aware_policy_integration_test.html#abc8df3bb904454396ac77227992390fa">should_only_consider_exceptions_based_on_errors_filter</a> ()  throws InterruptedException </td></tr>
<tr class="separator:abc8df3bb904454396ac77227992390fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d6af86566d6a179338bf15c7d386267"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1datastax_1_1driver_1_1core_1_1policies_1_1_error_aware_policy_integration_test.html#a1d6af86566d6a179338bf15c7d386267">should_regard_defaults</a> ()  throws InterruptedException </td></tr>
<tr class="separator:a1d6af86566d6a179338bf15c7d386267"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a78df89f97e521856363c1bd146bdbeab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a78df89f97e521856363c1bd146bdbeab">&#9670;&nbsp;</a></span>should_exclude_host_after_reaching_maximum_errors()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void com.datastax.driver.core.policies.ErrorAwarePolicyIntegrationTest.should_exclude_host_after_reaching_maximum_errors </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> throws InterruptedException</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Validates that <a class="el" href="">ErrorAwarePolicy</a> properly excludes a host after the maximum number of errors is exceeded.</p>
<p>This test configures a maximum of 1 error per minute and executes 2 failing queries against host1 during the first 5 simulated seconds. host1 should be excluded as soon as the rolling count updates over the next 5-second interval.</p>
<p>It then makes another query and ensures it is executed against host2 and that the response was successful.</p>
<dl class="section user"><dt>JIRA Ticket</dt><dd>JAVA-1055 </dd></dl>
<dl class="section user"><dt>Test Category</dt><dd>load_balancing:error_aware </dd></dl>
<dl class="section user"><dt>Since</dt><dd>3.1.0 </dd></dl>

</div>
</div>
<a id="a92a57fc13f089955cb8489a71cdfb205"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a92a57fc13f089955cb8489a71cdfb205">&#9670;&nbsp;</a></span>should_not_penalize_default_ignored_exceptions()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void com.datastax.driver.core.policies.ErrorAwarePolicyIntegrationTest.should_not_penalize_default_ignored_exceptions </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> throws InterruptedException</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Validates that <a class="el" href="">ErrorAwarePolicy</a> will not penalize errors that are not considered in the default <a class="el" href="">ErrorAwarePolicy.ErrorFilter</a> implementation.</p>
<p>Executes 10 queries with each error type and ensures that host1 is used each time, verifying that it was never excluded.</p>
<dl class="section user"><dt>JIRA Ticket</dt><dd>JAVA-1055 </dd></dl>
<dl class="section user"><dt>Test Category</dt><dd>load_balancing:error_aware </dd></dl>
<dl class="section user"><dt>Since</dt><dd>3.1.0 </dd></dl>

</div>
</div>
<a id="abc8df3bb904454396ac77227992390fa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abc8df3bb904454396ac77227992390fa">&#9670;&nbsp;</a></span>should_only_consider_exceptions_based_on_errors_filter()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void com.datastax.driver.core.policies.ErrorAwarePolicyIntegrationTest.should_only_consider_exceptions_based_on_errors_filter </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> throws InterruptedException</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Validates that <a class="el" href="">ErrorAwarePolicy</a> will regard a custom <a class="el" href="">ErrorAwarePolicy.ErrorFilter</a> by only penalizing a node when it produces exceptions that evaluate to true in the filter implementation.</p>
<p>It first executes 10 queries with an error type that is not considered and verify that host1 is never excluded.</p>
<p>It then executes queries with an error type that is considered and verifies that host1 is then excluded and host2 is used instead.</p>
<dl class="section user"><dt>JIRA Ticket</dt><dd>JAVA-1055 </dd></dl>
<dl class="section user"><dt>Test Category</dt><dd>load_balancing:error_aware </dd></dl>
<dl class="section user"><dt>Since</dt><dd>3.1.0 </dd></dl>

</div>
</div>
<a id="a1d6af86566d6a179338bf15c7d386267"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1d6af86566d6a179338bf15c7d386267">&#9670;&nbsp;</a></span>should_regard_defaults()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void com.datastax.driver.core.policies.ErrorAwarePolicyIntegrationTest.should_regard_defaults </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> throws InterruptedException</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Validates that an <a class="el" href="">ErrorAwarePolicy</a> configured with its defaults behaves as documented, that being that the maximum number of errors is 1 and the retry period is 120 seconds.</p>
<dl class="section user"><dt>JIRA Ticket</dt><dd>JAVA-1055 </dd></dl>
<dl class="section user"><dt>Test Category</dt><dd>load_balancing:error_aware </dd></dl>
<dl class="section user"><dt>Since</dt><dd>3.1.0 </dd></dl>

</div>
</div>
<a id="ac5445c91ecad35dff4ea472e05c63884"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac5445c91ecad35dff4ea472e05c63884">&#9670;&nbsp;</a></span>should_resurrect_host_after_retry_period()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void com.datastax.driver.core.policies.ErrorAwarePolicyIntegrationTest.should_resurrect_host_after_retry_period </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> throws InterruptedException</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Validates that <a class="el" href="">ErrorAwarePolicy</a> will include a previously excluded host after the configured retry period has elapsed.</p>
<p>The test executes queries with error to get host1 excluded. It then executes queries over 70 simulated seconds and then executes another query after this time has elapsed and ensures that the next query execution uses host1.</p>
<dl class="section user"><dt>JIRA Ticket</dt><dd>JAVA-1055 </dd></dl>
<dl class="section user"><dt>Test Category</dt><dd>load_balancing:error_aware </dd></dl>
<dl class="section user"><dt>Since</dt><dd>3.1.0 </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>ErrorAwarePolicyIntegrationTest.java</li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><b>com</b></li><li class="navelem"><b>datastax</b></li><li class="navelem"><b>driver</b></li><li class="navelem"><b>core</b></li><li class="navelem"><b>policies</b></li><li class="navelem"><a class="el" href="classcom_1_1datastax_1_1driver_1_1core_1_1policies_1_1_error_aware_policy_integration_test.html">ErrorAwarePolicyIntegrationTest</a></li>
    <li class="footer">Generated on Tue Oct 20 2020 09:43:13 for DataStax Java Driver by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
